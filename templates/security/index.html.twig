{% extends 'base.html.twig' %}
{% block stylesheets %}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <style>
        form{
            width: 30%;
            margin: 0 auto;
        }
        button.btn{
            width: 50%;
        }

    </style>


{% endblock %}
{% block body %}

    <form class="form-signin" action="{{ path('login') }}" method="POST">
        <h2 class="form-signin-heading">Please sign in</h2>
        <div class="form-group">
        <label for="_username" class="sr-only">Username</label>
        <input type="text"
               id="_username"
               name="_username"
               class="form-control"
               placeholder="Username"
               required
               autofocus>
        </div>
        <div class="form-group">
        <label for="_password" class="sr-only">Password</label>
        <input type="password"
               id="_password"
               name="_password"
               class="form-control"
               placeholder="Password"
               required>
        </div>

        <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>
    </form>

    <script type="application/javascript">

        (function () {
            if (localStorage.hasOwnProperty('data')){
                var data = JSON.parse(localStorage.getItem('data'));
                document.querySelector('input[name=_username]').value = data.name;
                document.querySelector('input[name=_password]').value = data.pass;
            }
        })();

        document.querySelector('form').addEventListener("submit",function (e) {
           var name = document.querySelector('input[name=_username]').value;
           var pas = document.querySelector('input[name=_password]').value;

           var data =JSON.stringify({
               'name':name,
               'pass':pas
           });

           localStorage.setItem('data',data)
        })


    </script>

{% endblock %}

